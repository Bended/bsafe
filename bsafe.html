<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8' />
    <title>Add a GeoJSON polygon</title>
    <title>BSafe</title>
    <script type="text/javascript" src="noam.json"></script>
    <link rel="stylesheet" type="text/css" href="./css/bsafe.css">
    <script src="./js/bsafe.js"></script>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.js'></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.css' rel='stylesheet' />
</head>

<body>
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a href="#">About</a>
        <a href="#">Services</a>
        <div class="parameters">
            <div class="well" style="max-height: 300px;overflow: auto;">
                <ul id="check-list-box" class="list-group checked-list-box">
                    <li class="list-group-item" data-color="success">Woman</li>
                    <li class="list-group-item" data-color="info">Driver</li>
                    <li class="list-group-item" data-color="warning">Policeman</li>
                    <li class="list-group-item" data-color="danger">Resident</li>
                </ul>
                <br />
                <button class="btn btn-primary col-xs-12" id="get-checked-data"> See my Safe map </button>
            </div>
        </div>
    </div>
    <div class=".container-fluid">
        <div class="row">
            <div class="col-md-2">
                <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; open</span>
            </div>
            <div class="col-md-10">
                <h2 class="text-center">BSafe</h2>
            </div>
        </div>
    </div>
    <style>
    body {
        margin: 0;
        padding: 0;
    }

    #map {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
        z-index: -1;
    }
    </style>
    <div id='map'></div>
    <script>
    mapboxgl.accessToken = 'pk.eyJ1Ijoibm9hbTE2MTAiLCJhIjoiY2phamgzdzFxMjlhbTMzbGV1aWg4MWY3dyJ9.ozjyeDjaIBuTLIlMsYeMbg';
    var map = new mapboxgl.Map({
        container: 'map',
        //style: 'mapbox://styles/mapbox/streets-v9',
        style: 'mapbox://styles/noam1610/cjcyl8r2j262x2rljawb9ys30',
        center: [-87.8, 41.87],
        zoom: 10
    });

    map.on('load', function() {
        var data = $.getJSON("noam.json")
        console.log(map.getStyle().layers);
        var layer = map.getLayer("chicago_limit");
        console.log(layer);
        map.setPaintProperty("chicago_limit", 'fill-color', '#99bbff');

        // map.addLayer({
        //     'id': 'maine',
        //     'type': 'fill',
        //     'source': {
        //         'type': 'geojson',
        //         'data': {
        //             'type': 'Feature',
        //             'geometry': {
        //                 'type': 'Polygon',
        //                 'coordinates': [
        //                     [
        //                         [-67.13734351262877, 45.137451890638886],
        //                         [-66.96466, 44.8097],
        //                         [-68.03252, 44.3252],
        //                         [-69.06, 43.98],
        //                         [-70.11617, 43.68405],
        //                         [-70.64573401557249, 43.090083319667144],
        //                         [-70.75102474636725, 43.08003225358635],
        //                         [-70.79761105007827, 43.21973948828747],
        //                         [-70.98176001655037, 43.36789581966826],
        //                         [-70.94416541205806, 43.46633942318431],
        //                         [-71.08482, 45.3052400000002],
        //                         [-70.6600225491012, 45.46022288673396],
        //                         [-70.30495378282376, 45.914794623389355],
        //                         [-70.00014034695016, 46.69317088478567],
        //                         [-69.23708614772835, 47.44777598732787],
        //                         [-68.90478084987546, 47.184794623394396],
        //                         [-68.23430497910454, 47.35462921812177],
        //                         [-67.79035274928509, 47.066248887716995],
        //                         [-67.79141211614706, 45.702585354182816],
        //                         [-67.13734351262877, 45.137451890638886]
        //                     ]
        //                 ]
        //             }
        //         }
        //     },
        //     'layout': {},
        //     'paint': {
        //         'fill-color': '#088',
        //         'fill-opacity': 0.8
        //     }
        // });


    });
    </script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js" type="text/javascript"></script>
    <script src="./js/bsafe.js"></script>
    <script src="./js/bsafe_parameters.js"></script>
</body>